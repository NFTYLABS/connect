(this["webpackJsonpnfty-labs-login"]=this["webpackJsonpnfty-labs-login"]||[]).push([[0],{178:function(e,t,n){},339:function(e,t){},390:function(e,t){},392:function(e,t){},423:function(e,t){},534:function(e,t){},547:function(e,t){},550:function(e,t){},622:function(e,t){},642:function(e,t){},648:function(e,t){},709:function(e,t){},715:function(e,t){},773:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),r=n(300),s=n.n(r),o=(n(178),n(3)),i=n.n(o),l=n(101),u=n(48),d=n.p+"static/media/logo.c0b0ed09.svg",f=n.p+"static/media/metamask-gray.3f479473.svg",b=n.p+"static/media/metamask-color.c1094eef.svg",m=n.p+"static/media/login-divider.50237155.svg",j=n.p+"static/media/wallet-connect-color.7aadbdc7.svg",g=n.p+"static/media/wallet-connect-gray.c2ea8007.svg",h=n(301),p=n.n(h),x=n(173),v=n(174),O=n.n(v),w=n(307),y=n.n(w),k=n(302),N=n.n(k),S=n(171),M=n.n(S),C=(n(483),n(303)),I=n.n(C),E=n(172),D=n.n(E),L=n.p+"static/media/bummer-img.6fefb042.svg",T=n(18),Y=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],h=s[1],v=Object(c.useState)(!1),w=Object(u.a)(v,2),k=w[0],S=w[1],C=Object(c.useState)(""),E=Object(u.a)(C,2),Y=(E[0],E[1]),F=Object(c.useState)(""),P=Object(u.a)(F,2),U=P[0],z=P[1],H=Object(c.useState)(!1),J=Object(u.a)(H,2),V=J[0],A=J[1],B=Object(c.useState)(null),W=Object(u.a)(B,2),_=W[0],q=W[1],R=Object(c.useState)(null),G=Object(u.a)(R,2),K=G[0],Q=G[1],X=Object(c.useState)(""),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href.split("/")[5],"#"===window.location.href.split("/")[4]&&t){e.next=5;break}return A(!0),e.abrupt("return");case 5:return n="https://connect.api.nftylabs.argonx.com/connect/".concat(t),e.next=8,O.a.get(n).then((function(e){console.log("Response",e),Y(e.data);var n=e.data;if(!n||403!==n.code&&404!=n.code){var c=JSON.stringify(n.ID).toUpperCase(),a=N.a.decToHex(c,{prefix:!1}).toUpperCase(),r="NFTY Labs signed message v0".concat(n.Version,"\n")+"You are authenticating to: ".concat(n.Service,"\n")+"Authorization ID: ".concat(a,"\n")+"Void after: ".concat(p.a.utc(n.Until).format("ddd MMM D HH:mm:ss YYYY")," UTC\n");console.log(r),z(r),q(a),ee(n.Service),Q(t)}else A(!0)})).catch((function(e){return console.error("Error occurred",e)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var te=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://connect.api.nftylabs.argonx.com/verify",e.next=3,O.a.post("https://connect.api.nftylabs.argonx.com/verify",{id:parseInt(_,16),serviceID:K,signature:t,address:n}).then((function(e){console.log("Verified, data is",e.data),e.data.link?window.location.href=e.data.link:403===e.data.code?alert("Not authorized. Did you pick the wrong account?"):alert("Service currently unavailable. Try again later.")})).catch((function(e){console.error("Error",e),alert("Not authorized, did you pick the wrong account?")}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:return e.next=5,new x.a.providers.Web3Provider(window.ethereum);case 5:return n=e.sent,e.next=8,n.listAccounts().then((function(e){return e[0]}));case 8:return t=e.sent,c=n.getSigner(),e.next=12,c.signMessage(U);case 12:return a=e.sent,S(!0),e.next=16,te(a,t);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("Metamask connect error"),alert("Unable to connect to metamask wallet. Please try again later");case 22:S(!1);case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),(t=new M.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:D.a})).connected?(console.log(t),n=t._accounts[0]):t.createSession(),t.on("connect",(function(e,t){if(e)throw e;var c=t.params[0],a=c.accounts;c.chainId;n=a[0]})),t.on("session_update",(function(e,t){if(e)throw e;var n=t.params[0];n.accounts,n.chainId})),t.on("disconnect",(function(e,t){if(e)throw e})),c=[I.a.utils.keccak256("\x19Ethereum Signed Message:\n"+U.length-1+U),n],e.next=9,t.signPersonalMessage(c).then((function(e){return e})).catch((function(e){console.error(e),alert("Error occurred when signing message")}));case 9:return a=e.sent,console.log("signedMessage",a),e.next=13,te(a,n);case 13:S(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return V?Object(T.jsx)("div",{class:"flex h-screen",children:Object(T.jsxs)("div",{class:"m-auto flex flex-col",children:[Object(T.jsx)("p",{className:"label-text font-3xl font-bold text-black mb-4",children:"Oh No! It seems that the link you entered is invalid. Could you check again?"}),Object(T.jsx)("img",{src:L})]})}):k?Object(T.jsx)("div",{class:"flex h-screen",children:Object(T.jsx)("div",{class:"m-auto",children:Object(T.jsx)(y.a,{loading:k,size:90})})}):Object(T.jsx)("div",{className:"flex justify-center items-center animate-fade-in-down",children:Object(T.jsxs)("div",{className:"flex shadow-2xl rounded-2xl flex-col md:h-1/2 md:w-3/12 md:my-12 md:mb-12  lg:h-1/2 lg:w-3/12 lg:my-24 lg:mb-12 justify-center items-center",children:[Object(T.jsx)("img",{alt:"",className:"my-2 h-20 mb-4",src:d}),Object(T.jsx)("div",{className:"my-4 md:w-full w-1/2 flex justify-center items-center",children:Object(T.jsxs)("p",{className:"label-text text-black",children:["Login to ",$]})}),Object(T.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(T.jsx)("div",{className:"h-14 mb-12",children:Object(T.jsx)("img",{alt:"",className:n?"animate-fade-in-logo cursor-pointer":"cursor-pointer",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},src:n?b:f,onClick:function(){return ne()}})}),Object(T.jsx)("div",{className:"my-8 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(T.jsx)("p",{className:"label-text text-gray-500 font-bold",onClick:function(){return ne()},children:"Metamask"})}),Object(T.jsx)("img",{alt:"",className:"mt-4 mb-8",src:m}),Object(T.jsx)("div",{className:"h-14 lg:mb-4 md:mb-4",children:Object(T.jsx)("img",{alt:"",className:o?"animate-fade-in-logo cursor-pointer":"cursor-pointer",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},src:o?j:g,onClick:function(){return ce()}})}),Object(T.jsx)("div",{className:"my-9 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(T.jsx)("p",{onClick:function(){return ce()},className:"label-text text-gray-500 font-bold",children:"WalletConnect"})})]})]})})};var F=function(){return Object(T.jsx)(Y,{})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,777)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(F,{})}),document.getElementById("root")),P(console.log)}},[[773,1,2]]]);
//# sourceMappingURL=main.913d5840.chunk.js.map